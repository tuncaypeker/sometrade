//@version=3

//author KıvanÇ @fr3762 on twitter
//creator Goichi Hosoda


study("ICHIMOKU", shorttitle="ICH", overlay=true)


TKlength=input(9, "Tenkansen Length", minval=1)
KJlength=input(26, "Kijunsen Length", minval=1)
CSHSlength=input(26, "Chikouspan Length/Horizontal Shift", minval=1)
SBlength=input(52, "SenkouspanB Length", minval=1)
SAlength=input(26,"SenkouspanA Length", minval=1)

TK=avg(lowest(TKlength), highest(TKlength))
KJ=avg(lowest(KJlength), highest(KJlength))
CS=close
SB=avg(lowest(SBlength), highest(SBlength))
SA=avg(TK,KJ)


plot(TK, linewidth=2, color=blue, title="TenkanSen")
plot(KJ, linewidth=2, color=red, title="KijunSen")

plot(CS, offset=-CSHSlength, linewidth=2, color=#DDA0DD, title="ChikouSpan")

SenkouA=plot(SA, offset=CSHSlength,  linewidth=1, color=green, title="SenkouSpanA")
SenkouB=plot(SB, offset=CSHSlength, linewidth=1, color=purple, title="SenkouSpanB")

fill(SenkouA, SenkouB, color = SA > SB ? green : red)
